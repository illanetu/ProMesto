# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –ö–æ–º–∞–Ω–¥—ã PowerShell

## 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

–ü—Ä–æ–µ–∫—Ç —É–∂–µ —Å–æ–∑–¥–∞–Ω. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ:

```powershell
npx create-next-app@latest . --typescript --app --no-tailwind --eslint
```

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```powershell
npm install
```

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```powershell
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env
New-Item -Path .env -ItemType File -Force
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` –º–∏–Ω–∏–º—É–º —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î (–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Äî —Å–º. —Ä–∞–∑–¥–µ–ª 3.1):

```
DATABASE_URL="postgresql://user:password@host/database?sslmode=require"
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [neon.tech](https://neon.tech)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Connection String –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª

## 3.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Auth.js + Google OAuth)

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Auth.js** (NextAuth v5) —Å –≤—Ö–æ–¥–æ–º —á–µ—Ä–µ–∑ **Google** –∏ —Å–µ—Å—Å–∏—è–º–∏ –≤ –ë–î (Prisma). –ù—É–∂–Ω—ã —Ç—Ä–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `AUTH_SECRET`, `GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET`.

### AUTH_SECRET

–°–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ cookie –∏ —Ç–æ–∫–µ–Ω–æ–≤ —Å–µ—Å—Å–∏–∏. **–û–±—è–∑–∞—Ç–µ–ª–µ–Ω –≤ production.**

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**

1. **–ß–µ—Ä–µ–∑ Node.js (PowerShell):**
   ```powershell
   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
   ```
   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥ –∏ –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –≤ `.env`:
   ```
   AUTH_SECRET="—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-—Å—Ç—Ä–æ–∫–∞"
   ```

2. **–ß–µ—Ä–µ–∑ OpenSSL** (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
   ```powershell
   openssl rand -base64 32
   ```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω—É –¥–ª–∏–Ω–Ω—É—é —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤. –ú–µ–Ω—è—Ç—å –µ—ë –Ω–µ –Ω—É–∂–Ω–æ, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç–µ —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã.

---

### GOOGLE_CLIENT_ID –∏ GOOGLE_CLIENT_SECRET

–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ OAuth 2.0 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Google. –í—ã–¥–∞—é—Ç—Å—è –≤ Google Cloud Console.

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Cloud Console](https://console.cloud.google.com/) –∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç Google.

2. **–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - –í–≤–µ—Ä—Ö—É –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ¬´Select a project¬ª ‚Üí ¬´New Project¬ª.
   - –ó–∞–¥–∞–π—Ç–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´ProMesto¬ª) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç.

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth consent screen** (—ç–∫—Ä–∞–Ω —Å–æ–≥–ª–∞—Å–∏—è –ø—Ä–∏ –≤—Ö–æ–¥–µ):
   - –ú–µ–Ω—é (‚ò∞) ‚Üí **APIs & Services** ‚Üí **OAuth consent screen**.
   - User Type: **External** (–¥–ª—è –ª—é–±—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π) –∏–ª–∏ **Internal** (—Ç–æ–ª—å–∫–æ –≤–∞—à–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è).
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ **App name**, **User support email**, **Developer contact** ‚Üí **Save and Continue**. –û—Å—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.

   –û—Ç–¥–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞—Ç—å Google+ API –∏–ª–∏ People API **–Ω–µ –Ω—É–∂–Ω–æ** ‚Äî –¥–ª—è –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Google –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ OAuth credentials –∏ consent screen.

4. **–°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 Client ID:**
   - –ú–µ–Ω—é ‚Üí **APIs & Services** ‚Üí **Credentials**.
   - **+ CREATE CREDENTIALS** ‚Üí **OAuth client ID**.
   - Application type: **Web application**.
   - Name: –Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´ProMesto Web¬ª.
   - **Authorized JavaScript origins** (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞):
     - `http://localhost:3000`
     - –í–∞—à –¥–æ–º–µ–Ω –Ω–∞ Vercel, –Ω–∞–ø—Ä–∏–º–µ—Ä: `https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.vercel.app`
   - **Authorized redirect URIs** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
     - `http://localhost:3000/api/auth/callback/google`
     - `https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.vercel.app/api/auth/callback/google`
   - –ù–∞–∂–º–∏—Ç–µ **Create**.

5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `.env`:**
   - –í —Å–ø–∏—Å–∫–µ Credentials –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π **OAuth 2.0 Client ID**.
   - **Client ID** ‚Üí –≤ `.env` –∫–∞–∫ `GOOGLE_CLIENT_ID="...apps.googleusercontent.com"`.
   - **Client Secret** ‚Üí –≤ `.env` –∫–∞–∫ `GOOGLE_CLIENT_SECRET="..."`.

**–ò—Ç–æ–≥ –≤ `.env`:**
```
AUTH_SECRET="–≤–∞—à-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-—Å–µ–∫—Ä–µ—Ç"
GOOGLE_CLIENT_ID="123456789-xxx.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="GOCSPX-xxxxxxxxxxxxxxxx"
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev`. –í—Ö–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/login`.

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prisma

```powershell
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run db:generate

# –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:migrate
# –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤–≤–µ–¥–∏—Ç–µ: init

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run db:seed
```

## 5. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```powershell
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000)

## 6. –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git:
```powershell
git init
git add .
git commit -m "–ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞"
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub –∏ –∑–∞–ø—É—à—å—Ç–µ:
```powershell
git remote add origin <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
git push -u origin main
```

3. –ù–∞ [vercel.com](https://vercel.com):
   - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DATABASE_URL`
   - –ù–∞–∂–º–∏—Ç–µ Deploy

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Vercel CLI

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Vercel CLI
npm i -g vercel

# –õ–æ–≥–∏–Ω
vercel login

# –î–µ–ø–ª–æ–π
vercel

# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DATABASE_URL` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Vercel.

## 7. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ Vercel

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

```powershell
# –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
vercel env pull .env.local

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate deploy
```

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ Build Command –Ω–∞ Vercel:
```
prisma generate && prisma migrate deploy && next build
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–∫—Ä–æ–π—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Vercel. –î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∑–∞–º–µ—Ç–∫–∞–º–∏ –∏–∑ PostgreSQL.

–ï—Å–ª–∏ –∑–∞–º–µ—Ç–æ–∫ –Ω–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ seed –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ Vercel CLI.
